<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">  
    <h:outputStylesheet library="css" name="css/main.css"  />
    <ui:define name="content"> 
        <!--<script src="js/jQuery.js"></script>-->
        <script src="js/index.js"></script>
        <script>
            $(document).ready(function(){
                $('.login').click(function(){
                    $('.loading').css("display", "block")

                    });
            });
            
        </script>

        <c:if test="#{user.isLoggedIn}">
            #{user.redirect()}
        </c:if>
        <b:container id="center" class="centered-text">
            <b:form class="centered-form">
                <b:row>
                    <b:inputText placeholder="Username" value="#{userData.username}" required="true">
                        <f:facet name="prepend">
                            <b:icon name="user" />
                        </f:facet>
                    </b:inputText>
                </b:row>
                <b:row>
                    <b:inputSecret placeholder="Password" value="#{userData.password}" required="true">
                        <f:facet name="prepend">
                            <b:iconAwesome name="key" />
                        </f:facet>
                    </b:inputSecret>
                </b:row>
                <b:row>
                    <b:commandButton class="login" value="Log in" action="#{user.signin()}"></b:commandButton>
                </b:row>
                <b:row>
                    <b:spinner ajax="true" class="loading" size="4x" />
                </b:row>
            </b:form>
            <b:row>
                <p>You need a Duolingo account to use this website, register for one <a href="https://www.duolingo.com/register" target="_blank">here</a>.</p>
            </b:row>
        </b:container>   

    </ui:define>
</ui:composition>
